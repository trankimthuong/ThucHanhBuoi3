<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Game Puzzle</title>

    <script>
        let arrayImg = new Array();

        arrayImg[0] = new Image();
        arrayImg[0].src = 'nobita1.jpg';

        arrayImg[1] = new Image();
        arrayImg[1].src = 'nobita2.jpg';

        arrayImg[2] = new Image();
        arrayImg[2].src = 'nobita3.jpg';

        arrayImg[3] = new Image();
        arrayImg[3].src = 'nobita4.jpg';

        arrayImg[4] = new Image();
        arrayImg[4].src = 'nobita5.jpg';

        arrayImg[5] = new Image();
        arrayImg[5].src = 'nobita6.jpg';

        function huongdan() {
            alert("Nhan nut Start de bat dau!!! di chuyen cac phim 'len', 'xuong', 'trai', 'phai' de ghep thanh hinh hoan chinh");
        }

        function getRndInteger(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }


        function random() {
            let count = 0;
            while(count < 100)
            {
                console.log(count);
                let a = getRndInteger(1,1000);
                let value = a%4;
                switch (value) {
                    case 0: upArrowPressed();
                    break;
                    case 1: downArrowPressed();
                    break;
                    case 2: leftArrowPressed();
                    break;
                    case 3: rightArrowPressed();
                    break
                }
                count++;
            }

        }

        function getValue() {
            let a = new Array();
            a[0] = document.getElementById("anh1");
            a[1] = document.getElementById("anh2");
            a[2] = document.getElementById("anh3");
            a[3] = document.getElementById("anh4");
            a[4] = document.getElementById("anh5");
            a[5] = document.getElementById("anh6");
            return a;
        }

        function upArrowPressed() {
            let a = getValue();
            console.log(parseInt(a[1].style.top));
            let element = document.getElementById("anhSpace");
            for(let i = 0; i < a.length; i++)
            {
                if(parseInt(element.style.left) == parseInt(a[i].style.left) && parseInt(element.style.top) - 100 == parseInt(a[i].style.top))
                {
                    element.style.top = parseInt(element.style.top) - 100 + "px";
                    a[i].style.top = parseInt(a[i].style.top) + 100 + "px";
                    break;
                }
            }
        }


        function downArrowPressed() {
            let a = getValue();
            console.log(parseInt(a[1].style.top));
            let element = document.getElementById("anhSpace");
            for(let i = 0; i < a.length; i++)
            {
                if(parseInt(element.style.left) == parseInt(a[i].style.left) && parseInt(element.style.top) + 100 == parseInt(a[i].style.top))
                {
                    element.style.top = parseInt(element.style.top) + 100 + "px";
                    a[i].style.top = parseInt(a[i].style.top) - 100 + "px";
                    break;
                }
            }
        }
        function leftArrowPressed() {
            let a = getValue();
            console.log(parseInt(a[1].style.top));
            let element = document.getElementById("anhSpace");
            for(let i = 0; i < a.length; i++)
            {
                if(parseInt(element.style.top) == parseInt(a[i].style.top) && parseInt(element.style.left) - 100 == parseInt(a[i].style.left))
                {
                    element.style.left = parseInt(element.style.left) - 100 + "px";
                    a[i].style.left = parseInt(a[i].style.left) + 100 + "px";
                    break;
                }
            }
        }
        function rightArrowPressed() {
            let a = getValue();
            let element = document.getElementById("anhSpace");
            for(let i = 0; i < a.length; i++)
            {
                if(parseInt(element.style.top) == parseInt(a[i].style.top) && parseInt(element.style.left) + 100 == parseInt(a[i].style.left))
                {
                    element.style.left = parseInt(element.style.left) + 100 + "px";
                    a[i].style.left = parseInt(a[i].style.left) - 100 + "px";
                    break;
                }
            }
        }

        function moveSelect(evt) {
            switch (evt.keyCode) {
                case 37:
                    leftArrowPressed();
                    break;
                case 39:
                    rightArrowPressed();
                    break;
                case 38:
                    upArrowPressed();
                    break;
                case 40:
                    downArrowPressed();
                    break;
            }
            let a = getValue();
            if((a[0].style.top == '200px' && a[0].style.left == '200px') &&
                (a[1].style.top == '200px' && a[1].style.left == '300px') &&
                (a[2].style.top == '300px' && a[2].style.left == '200px') &&
                (a[3].style.top == '300px' && a[3].style.left == '300px') &&
                (a[4].style.top == '400px' && a[4].style.left == '200px') &&
                (a[5].style.top == '400px' && a[5].style.left == '300px')
            )
                alert("chuc mung ban da chien thang");
        }
        function doReady(){
            window.addEventListener('keydown', moveSelect)
        }
    </script>
</head>
<body onload="doReady()">
<img id="anh1" src="nobita1.jpg" style="position: absolute; top: 200px; left: 200px">
<img id="anh2" src="nobita2.jpg" style="position: absolute; top: 200px; left: 300px">
<img id="anh3" src="nobita3.jpg" style="position: absolute; top: 300px; left: 200px">
<img id="anh4" src="nobita4.jpg" style="position: absolute; top: 300px; left: 300px">
<img id="anh5" src="nobita5.jpg" style="position: absolute; top: 400px; left: 200px">
<img id="anh6" src="nobita6.jpg" style="position: absolute; top: 400px; left: 300px">
<img id="anhSpace" src="space.jpg" style="position: absolute; top: 100px; left: 200px">
<button id="btnStart" onclick="random();">Start</button>
<button id="huongdan" onclick="huongdan()">Huong dan!!!</button>
</body>
</html>